{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/Lin/Documents/GitHub/social-network-frontend/src/user/FindPeople.js\";\nimport React, { Component } from \"react\";\nimport { findPeople, follow } from \"./apiUser\";\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\n\nclass FindPeople extends Component {\n  constructor() {\n    super();\n\n    this.clickFollow = (user, i) => {\n      const userId = isAuthenticated().user._id;\n\n      const token = isAuthenticated().token;\n      follow(userId, token, user._id).then(data => {\n        if (data.error) {\n          this.setState({\n            error: data.error\n          });\n        } else {\n          let toFollow = this.state.users;\n          toFollow.splice(i, 1);\n          this.setState({\n            users: toFollow,\n            open: true,\n            followMessage: `Following ${user.name}`\n          });\n        }\n      });\n    };\n\n    this.renderUsers = users => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: users.map((user, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card col-md-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            height: \"200px\",\n            width: \"auto\"\n          },\n          className: \"img-thumbnail\",\n          src: `${process.env.REACT_APP_API_URL}/user/photo/${user._id}`,\n          onError: i => i.target.src = `${DefaultProfile}`,\n          alt: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/user/${user._id}`,\n            className: \"btn btn-raised btn-primary btn-sm\",\n            children: \"View Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.clickFollow(user, i),\n            className: \"btn btn-raised btn-info float-right btn-sm\",\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this);\n\n    this.state = {\n      users: [],\n      error: \"\",\n      open: false\n    };\n  }\n\n  componentDidMount() {\n    const userId = isAuthenticated().user._id;\n\n    const token = isAuthenticated().token;\n    findPeople(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({\n          users: data\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      users,\n      open,\n      followMessage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mt-5 mb-5\",\n        children: \"Find People\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-success\",\n        children: followMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }, this), this.renderUsers(users)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default FindPeople;","map":{"version":3,"sources":["/Users/Lin/Documents/GitHub/social-network-frontend/src/user/FindPeople.js"],"names":["React","Component","findPeople","follow","DefaultProfile","Link","isAuthenticated","FindPeople","constructor","clickFollow","user","i","userId","_id","token","then","data","error","setState","toFollow","state","users","splice","open","followMessage","name","renderUsers","map","height","width","process","env","REACT_APP_API_URL","target","src","email","componentDidMount","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { findPeople, follow } from \"./apiUser\";\nimport DefaultProfile from \"../images/avatar.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\n\nclass FindPeople extends Component {\n    constructor() {\n        super();\n        this.state = {\n            users: [],\n            error: \"\",\n            open: false\n        };\n    }\n\n    componentDidMount() {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n\n        findPeople(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({ users: data });\n            }\n        });\n    }\n\n    clickFollow = (user, i) => {\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n\n        follow(userId, token, user._id).then(data => {\n            if (data.error) {\n                this.setState({ error: data.error });\n            } else {\n                let toFollow = this.state.users;\n                toFollow.splice(i, 1);\n                this.setState({\n                    users: toFollow,\n                    open: true,\n                    followMessage: `Following ${user.name}`\n                });\n            }\n        });\n    };\n\n    renderUsers = users => (\n        <div className=\"row\">\n            {users.map((user, i) => (\n                <div className=\"card col-md-4\" key={i}>\n                    <img\n                        style={{ height: \"200px\", width: \"auto\" }}\n                        className=\"img-thumbnail\"\n                        src={`${process.env.REACT_APP_API_URL}/user/photo/${\n                            user._id\n                        }`}\n                        onError={i => (i.target.src = `${DefaultProfile}`)}\n                        alt={user.name}\n                    />\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{user.name}</h5>\n                        <p className=\"card-text\">{user.email}</p>\n                        <Link\n                            to={`/user/${user._id}`}\n                            className=\"btn btn-raised btn-primary btn-sm\"\n                        >\n                            View Profile\n                        </Link>\n\n                        <button\n                            onClick={() => this.clickFollow(user, i)}\n                            className=\"btn btn-raised btn-info float-right btn-sm\"\n                        >\n                            Follow\n                        </button>\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n\n    render() {\n        const { users, open, followMessage } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Find People</h2>\n\n                {open && (\n                    <div className=\"alert alert-success\">{followMessage}</div>\n                )}\n\n                {this.renderUsers(users)}\n            </div>\n        );\n    }\n}\n\nexport default FindPeople;\n"]},"metadata":{},"sourceType":"module"}