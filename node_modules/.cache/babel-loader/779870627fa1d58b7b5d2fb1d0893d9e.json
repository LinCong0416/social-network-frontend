{"ast":null,"code":"export var signup=function signup(user){return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/signup\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(error){return console.log(error);});};export var signin=function signin(user){//return fetch(`${process.env.REACT_APP_API_URL}/signin`,{\nreturn fetch(\"http://localhost:8080/signin\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(error){return console.log(error);});};export var authenticate=function authenticate(jwt,next){if(typeof window!==\"undefined\"){localStorage.setItem(\"jwt\",JSON.stringify(jwt));next();}};export var signout=function signout(next){if(typeof window!==\"undefined\")localStorage.removeItem(\"jwt\");next();return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/signout\"),{method:\"GET\"}).then(function(response){console.log('signout',response);return response.json();}).catch(function(error){return console.log(error);});};export var isAuthenticated=function isAuthenticated(){if(typeof window==\"undefined\"){return false;}if(localStorage.getItem(\"jwt\")){return JSON.parse(localStorage.getItem(\"jwt\"));}else{return false;}};","map":{"version":3,"sources":["/Users/Lin/Documents/GitHub/social-network-frontend/src/auth/index.js"],"names":["signup","user","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","body","JSON","stringify","then","response","json","catch","error","console","log","signin","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse"],"mappings":"AACA,MAAO,IAAMA,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,IAAI,CAAI,CAE1B,MAAOC,CAAAA,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,iBAAhB,YAA2C,CACnDC,MAAM,CAAC,MAD4C,CAEnDC,OAAO,CAAC,CACJC,MAAM,CAAC,kBADH,CAEJ,eAAe,kBAFX,CAF2C,CAMnDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeV,IAAf,CAN6C,CAA3C,CAAL,CAQFW,IARE,CAQG,SAAAC,QAAQ,CAAI,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVE,EAWFC,KAXE,CAWI,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAXT,CAAP,CAYH,CAdM,CAgBP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAlB,IAAI,CAAI,CAC1B;AACA,MAAOC,CAAAA,KAAK,CAAC,8BAAD,CAAgC,CACpCI,MAAM,CAAC,MAD6B,CAEpCC,OAAO,CAAC,CACJC,MAAM,CAAC,kBADH,CAEJ,eAAe,kBAFX,CAF4B,CAMpCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeV,IAAf,CAN8B,CAAhC,CAAL,CAQEW,IARF,CAQO,SAAAC,QAAQ,CAAI,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CAVF,EAWEC,KAXF,CAWQ,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAXb,CAAP,CAaH,CAfM,CAiBP,MAAO,IAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAMC,IAAN,CAAe,CACvC,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmC,CAC/BC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4Bf,IAAI,CAACC,SAAL,CAAeU,GAAf,CAA5B,EACAC,IAAI,GACP,CACJ,CALM,CAMP,MAAO,IAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACJ,IAAD,CAAU,CAC7B,GAAI,MAAOC,CAAAA,MAAP,GAAkB,WAAtB,CAAmCC,YAAY,CAACG,UAAb,CAAwB,KAAxB,EACnCL,IAAI,GACJ,MAAOpB,CAAAA,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,iBAAhB,aAA4C,CACpDC,MAAM,CAAC,KAD6C,CAA5C,CAAL,CAGFM,IAHE,CAGG,SAAAC,QAAQ,CAAI,CACdI,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBL,QAAtB,EACA,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CANE,EAOFC,KAPE,CAOI,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAPT,CAAP,CAQH,CAXM,CAaP,MAAO,IAAMY,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACjC,GAAI,MAAOL,CAAAA,MAAP,EAAiB,WAArB,CAAkC,CAC9B,MAAO,MAAP,CACH,CACD,GAAGC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAH,CAAgC,CAC5B,MAAOnB,CAAAA,IAAI,CAACoB,KAAL,CAAWN,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAP,CACH,CAFD,IAEO,CACH,MAAO,MAAP,CACH,CACJ,CATM","sourcesContent":["\nexport const signup = user => {\n\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`,{\n        method:\"POST\",\n        headers:{\n            Accept:\"application/json\",\n            \"Content-Type\":\"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(error => console.log(error))\n}\n\nexport const signin = user => {\n    //return fetch(`${process.env.REACT_APP_API_URL}/signin`,{\n    return fetch(\"http://localhost:8080/signin\",{\n            method:\"POST\",\n            headers:{\n                Accept:\"application/json\",\n                \"Content-Type\":\"application/json\"\n            },\n            body: JSON.stringify(user)\n        })\n            .then(response => {\n                return response.json();\n            })\n            .catch(error => console.log(error))\n\n}\n\nexport const authenticate = (jwt, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\n        next();\n    }\n}\nexport const signout = (next) => {\n    if (typeof window !== \"undefined\") localStorage.removeItem(\"jwt\")\n    next()\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`,{\n        method:\"GET\"\n    })\n        .then(response => {\n            console.log('signout',response)\n            return response.json()\n        })\n        .catch(error => console.log(error))\n}\n\nexport const isAuthenticated = () => {\n    if (typeof window == \"undefined\") {\n        return false\n    }\n    if(localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"))\n    } else {\n        return false\n    }\n}\n"]},"metadata":{},"sourceType":"module"}