{"version":3,"sources":["core/Home.js","auth/index.js","core/Menu.js","user/Signup.js","user/Signin.js","user/Profile.js","MainRouter.js","App.js","index.js"],"names":["Home","className","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","style","to","cursor","onClick","next","push","removeItem","fetch","process","method","then","response","console","log","json","catch","error","user","_id","name","Signup","signupForm","email","password","onChange","handleChange","type","value","clickSubmit","event","setState","target","preventDefault","state","headers","Accept","body","stringify","signup","data","open","this","display","Component","Signin","signinForm","loading","signin","jwt","redirectToReferer","setItem","Profile","redirectToSignin","userId","props","match","params","Authorization","token","MainRouter","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b28d092.chunk.js","sourcesContent":["import React from 'react'\n\nconst Home =() => (\n    <div className=\"jumbotron\">\n        <h2>Home</h2>\n        <p className=\"lead\"> Welcome to React Frontend</p>\n    </div>\n)\n\nexport default Home;","\nexport const signup = user => {\n\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`,{\n        method:\"POST\",\n        headers:{\n            Accept:\"application/json\",\n            \"Content-Type\":\"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(error => console.log(error))\n}\n\nexport const signin = user => {\n    //return fetch(`${process.env.REACT_APP_API_URL}/signin`,{\n    return fetch(\"http://localhost:8080/signin\",{\n            method:\"POST\",\n            headers:{\n                Accept:\"application/json\",\n                \"Content-Type\":\"application/json\"\n            },\n            body: JSON.stringify(user)\n        })\n            .then(response => {\n                return response.json();\n            })\n            .catch(error => console.log(error))\n\n}\n\nexport const authenticate = (jwt, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\n        next();\n    }\n}\nexport const signout = (next) => {\n    if (typeof window !== \"undefined\") localStorage.removeItem(\"jwt\")\n    next()\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`,{\n        method:\"GET\"\n    })\n        .then(response => {\n            console.log('signout',response)\n            return response.json()\n        })\n        .catch(error => console.log(error))\n}\n\nexport const isAuthenticated = () => {\n    if (typeof window == \"undefined\") {\n        return false\n    }\n    if(localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"))\n    } else {\n        return false\n    }\n}\n","import React from 'react'\nimport {Link, withRouter} from 'react-router-dom';\nimport {signout, isAuthenticated} from '../auth';\n\nconst isActive = (history, path) => {\n    if (history.location.pathname === path) {\n        return {color:\"#ff9900\"}\n    } else {\n        return {color:\"#ffffff\"}\n    }\n}\n\nconst Menu = ({history}) => (\n    <div>\n        <ul className=\"nav nav-tabs bg-primary\">\n            <li className=\"nav-item\">\n                <Link className=\"nav-link\" style={isActive(history,\"/\")} to=\"/\">Home</Link>\n            </li>\n\n            {!isAuthenticated() && (\n                <>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history,\"/signin\")} to=\"/signin\">Sign In</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                    <Link className=\"nav-link\" style={isActive(history,\"/signup\")} to=\"/signup\">Sign Up</Link>\n                    </li>\n\n                </>\n            )}\n\n            {isAuthenticated() && (\n                <>\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link\"\n                           style={(isActive(history,\"/signup\"),\n                               {cursor: \"pointer\", color:\"#fff\"})\n                           }\n                           onClick={() => signout(() =>history.push('/'))}\n                        >\n                            Sign Out\n                        </a>\n                    </li>\n                    <li className=\"nav-item\">\n                            <Link to={`/user/${isAuthenticated().user._id}`}\n                                  style={{color:\"#fff\"}}\n                                  className=\"nav-link\">\n                            {`${isAuthenticated().user.name}'s profile`}\n                            </Link>\n                    </li>\n                </>\n            )}\n\n        </ul>\n    </div>\n)\nexport default withRouter(Menu);\n\n","import React, {Component} from 'react';\nimport {signup} from '../auth';\n\nclass Signup extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            open:false\n        }\n    }\n    signupForm = (name, email, password) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={this.handleChange(\"name\")}\n                       type=\"text\"\n                       className=\"form-control\"\n                       value={name}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={this.handleChange(\"email\")}\n                       type=\"email\"\n                       className=\"form-control\"\n                       value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={this.handleChange(\"password\")}\n                       type=\"password\"\n                       className=\"form-control\"\n                       value={password}\n                />\n            </div>\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">\n                Submit\n            </button>\n        </form>\n    )\n\n    handleChange = (name) => (event) => {\n        this.setState({error:\"\"})\n        this.setState({[name] : event.target.value});\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        const {name, email, password} = this.state;\n        const user = {\n            name,\n            email,\n            password\n        };\n        //console.log(user);\n       signup(user)\n           .then(data => {\n               if (data.error) {\n                   this.setState({error: data.error});\n               } else {\n                   this.setState({\n                       error:\"\",\n                       name:\"\",\n                       email:\"\",\n                       password:\"\",\n                       open:true\n                   })\n               }\n           })\n    }\n\n\n\n    render(){\n        const {name, email, password, error,open} = this.state\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Signup</h2>\n                <div className=\"alert alert-danger\"\n                     style={{display:error ? \"\" : \"none\"}}\n                >\n                    {error}\n                </div>\n                <div className=\"alert alert-info\"\n                     style={{display:open ? \"\" : \"none\"}}\n                >\n                    New account is successfully created. Please Sign in.\n                </div>\n\n                {this.signupForm(name, email, password)}\n            </div>\n        )\n    }\n}\n\nexport default Signup;","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {signin, authenticate} from '../auth';\n\nclass Signin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            redirectToReferer:false,\n            loading:false\n        };\n    }\n    signinForm = (email, password) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={this.handleChange(\"email\")}\n                       type=\"email\"\n                       className=\"form-control\"\n                       value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={this.handleChange(\"password\")}\n                       type=\"password\"\n                       className=\"form-control\"\n                       value={password}\n                />\n            </div>\n            <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">\n                Submit\n            </button>\n        </form>\n    )\n\n    handleChange = (name) => (event) => {\n        this.setState({error:\"\"})\n        this.setState({[name] : event.target.value});\n    };\n\n\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({loading:true})\n        const {email, password} = this.state;\n        const user = {\n            email,\n            password\n        };\n        //console.log(user);\n        signin(user)\n            .then(data => {\n                if (data.error) {\n                    this.setState({error: data.error, loading:false});\n                } else {\n                    //authenticate\n                    authenticate(data, () => {\n                        this.setState({redirectToReferer: true})\n                    })\n                }\n            })\n    }\n\n\n    render(){\n        const {email, password, error, redirectToReferer,loading} = this.state;\n        if (redirectToReferer) {\n            return <Redirect to=\"/\" />\n        }\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Signin</h2>\n                <div className=\"alert alert-danger\"\n                     style={{display:error ? \"\" : \"none\"}}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ): (\n                    \"\"\n                )}\n\n                {this.signinForm(email, password)}\n            </div>\n        )\n    }\n}\n\nexport default Signin;","import React, {Component} from \"react\";\nimport {isAuthenticated} from \"../auth\";\n\nexport class Profile extends Component {\n    constructor() {\n        super();\n        this.state = {\n            user:\"\",\n            redirectToSignin:false\n        }\n    }\n\n    componentDidMount() {\n        const userId = this.props.match.params.userId\n        fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n            method:\"GET\",\n            headers:{\n                Accept:\"application/json\",\n                \"Content-Type\":\"application/json\",\n                Authorization:`Bearer ${isAuthenticated().token}`\n            }\n        }).then(data => {\n            if (data.error) {\n                console.log(\"ERROR\");\n            } else {\n                console.log(data);\n            }\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Profile</h2>\n                <p>Hello {isAuthenticated().user.name}</p>\n                <p>Email: {isAuthenticated().user.email}</p>\n            </div>\n        )\n    }\n}\n\nexport default Profile","import React from 'react'\nimport {Route, Switch} from 'react-router-dom'\nimport Home from './core/Home'\nimport Menu from './core/Menu'\nimport Signup from'./user/Signup'\nimport Signin from'./user/Signin'\nimport Profile from'./user/Profile'\n\nconst MainRouter = () => (\n    <div>\n        <Menu />\n        <Switch>\n            <Route exact path=\"/\" component={Home}></Route>\n            <Route exact path=\"/signup\" component={Signup}></Route>\n            <Route exact path=\"/signin\" component={Signin}></Route>\n            <Route exact path=\"/user/:userId\" component={Profile}></Route>\n        </Switch>\n    </div>\n)\n\nexport default MainRouter;\n\n","import React, {Component} from 'react';\nimport MainRouter from \"./MainRouter\";\nimport {BrowserRouter} from 'react-router-dom';\n\nconst App = () => (\n    <BrowserRouter>\n        <MainRouter />\n    </BrowserRouter>\n)\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}